<!doctype html>
<html lang="fr-FR">
    <head>
        <link href="https://fonts.googleapis.com/css?family=Lobster&display=swap" rel="stylesheet">
        <style>
            html, body {
                background-color: #f8f8f8;
                margin: 0;
                padding: 0;
            }

            .content {
                display: flex;
                flex-flow: column wrap;
                align-items: stretch;
                font-size: 2.4em;
                padding: 20px;
            }

            .content > * {
                margin-bottom: 30px;
                display: flex;
                flex-flow: column nowrap;
                align-items: stretch;
            }

            .block {
                border-bottom: 1px dashed #e1e1e1;
                padding-bottom: 5px;
                background-color: #ffffff;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            }

            .block .hl {
                color: rgba(255, 0, 0, 1);
            }

            .block .header {
                font-size: 1.8em;
                margin: 0;
                padding: 0 0 10px 0;
                text-align: center;
                border-bottom: 1px solid #cccccc;
            }

            .block.week .header {
                font-family: 'Lobster', cursive;
            }

            .block p {
                margin: 0 0 10px 0;
                font-size: 1.1em;
            }

            .block p:last-child {
                margin-bottom: 0;
            }

            .block .description {
                padding: 20px;
            }

            .nextWeek {
                opacity: 75%;
            }

            .block-transition {
                align-self: center;
            }

            .block.cat .header {
                font-size: 1.3em;
            }

            .block.cat .description {
                align-self: center;
            }
        </style>
    </head>
    <body>

        <div class="content">
            <div class="block week thisWeek">
                <h1 class="header">Semaine <span class="weekNumber hl"></span></h1>
                <div class="description">
                    <p>Ce <span class="hl">jeudi</span>, le gem ouvrira à <span class="thursdayTime hl"></span>.</p>
                    <p>Ce <span class="hl">samedi</span>, le gem sera <span class="saturdayStatus hl"></span>.</p>
                </div>
            </div>

            <div class="block-transition">&#x1F551;</div>

            <div class="block week nextWeek">
                <h1 class="header">Semaine <span class="weekNumber hl"></span></h1>
                <div class="description">
                    <p>Le <span class="hl">jeudi</span> de la semaine prochaine, le gem ouvrira à <span class="thursdayTime hl"></span>.</p>
                    <p>Le <span class="hl">samedi</span> de la semaine prochaine, le gem sera <span class="saturdayStatus hl"></span>.</p>
                </div>
            </div>

            <div class="block-transition">&#x1f431;</div>

            <div class="block cat">
                <h1 class="header">Et afin que vous passiez une bonne journée, voici un chat</h1>
                <div class="description">
                    <img src="https://cataas.com/cat">
                </div>
            </div>
        </div>


    </body>
    <script src="static/moment-with-locales.min.js"></script>
    <script>
        moment.locale("fr");

        function getWeek(now) {
            let dateRef = moment([2019, 7, 19]).startOf("week"); // Semaine 1
            let dateCurrentWeek = moment(now).startOf("week");
            let weekDiff = parseInt(moment.duration(dateCurrentWeek.diff(dateRef)).asWeeks());
            return (weekDiff % 3) + 1;
        }

        function getWeekData(week) {
            let thursdayTime;
            let saturdayStatus;

            switch (week) {
                case 1:
                    thursdayTime = "10h";
                    saturdayStatus = "ouvert";
                    break;
                case 2:
                    thursdayTime = "10h";
                    saturdayStatus = "fermé";
                    break;
                case 3:
                    thursdayTime = "11h";
                    saturdayStatus = "ouvert";
                    break;
                default:
                    break;
            }

            return {week: week, thursdayTime: thursdayTime, saturdayStatus: saturdayStatus};
        }

        function populateData(el, data) {
            el.getElementsByClassName("weekNumber")[0].innerHTML = data.week;
            el.getElementsByClassName("thursdayTime")[0].innerHTML = data.thursdayTime;
            el.getElementsByClassName("saturdayStatus")[0].innerHTML = data.saturdayStatus;
        }


        let data = getWeekData(getWeek());
        let thisWeekEl = document.getElementsByClassName("thisWeek")[0];
        populateData(thisWeekEl, data);

        let nextData = getWeekData(getWeek(moment().add(1, "week").startOf("week")));
        let nextWeekEl = document.getElementsByClassName("nextWeek")[0];
        populateData(nextWeekEl, nextData);
    </script>
</html>